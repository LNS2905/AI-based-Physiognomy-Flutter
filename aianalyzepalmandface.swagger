{"openapi":"3.1.0","info":{"title":"Physiognomy Face Analysis API","description":"Advanced facial feature and proportion analysis using AI","version":"1.0.0"},"paths":{"/health":{"get":{"summary":"Health Check","description":"Health check endpoint for container monitoring","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Health Check","description":"Endpoint để kiểm tra server có đang hoạt động không.","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/analyze-face/":{"post":{"summary":"Analyze a single face image","description":"<<< ĐÃ SỬA ĐỔI >>>\nNhận một file ảnh, xử lý và trả về JSON với ảnh đã chú thích dạng base64.","operationId":"analyze_face_analyze_face__post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_face_analyze_face__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze-face-from-cloudinary/":{"post":{"summary":"Analyze face from Cloudinary signed URL","description":"<<< ĐÃ SỬA ĐỔI >>>\nNhận URL, tải ảnh, xử lý, và tải kết quả (chỉ ảnh chú thích) lên Cloudinary.","operationId":"analyze_face_from_cloudinary_analyze_face_from_cloudinary__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CloudinaryAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze-palm/":{"post":{"summary":"Analyze palm/hand image","description":"Analyze palm/hand image using YOLOv11 pose detection for palmistry analysis.\n\nArgs:\n    file: Image file containing palm/hand\n    gender: 'male' (analyze left hand) or 'female' (analyze right hand). Default: 'male'\n\nReturns:\n    JSON response containing:\n    - analysis: Complete palm analysis data\n    - hands_detected: Number of hands found\n    - measurements: Hand measurements and proportions\n    - palm_lines: Analysis of major palm lines\n    - finger_analysis: Individual finger characteristics\n    - annotated_image_url: Link to download annotated image (if successful)","operationId":"analyze_palm_analyze_palm__post","parameters":[{"name":"gender","in":"query","required":false,"schema":{"type":"string","default":"male","title":"Gender"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_palm_analyze_palm__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analyze-palm-cloudinary/":{"post":{"summary":"Analyze palm image from Cloudinary","description":"Analyze palm image from Cloudinary signed URL - same flow as face analysis but for palms.\n\nReturns:\n    JSON response containing:\n    - analysis: Complete palm analysis data\n    - annotated_image_url: Cloudinary signed URL for annotated image\n    - comparison_image_url: Cloudinary signed URL for comparison image","operationId":"analyze_palm_cloudinary_analyze_palm_cloudinary__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CloudinaryAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/palm-analysis-info/":{"get":{"summary":"Get palm analysis capabilities","description":"Get information about palm analysis capabilities and supported features.","operationId":"get_palm_analysis_info_palm_analysis_info__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_analyze_face_analyze_face__post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file (jpg, png, webp, heic) to analyze."}},"type":"object","required":["file"],"title":"Body_analyze_face_analyze_face__post"},"Body_analyze_palm_analyze_palm__post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file (jpg, png, webp, heic) containing hands to analyze."}},"type":"object","required":["file"],"title":"Body_analyze_palm_analyze_palm__post"},"CloudinaryAnalysisRequest":{"properties":{"signed_url":{"type":"string","title":"Signed Url"},"user_id":{"type":"string","title":"User Id"},"timestamp":{"type":"string","title":"Timestamp"},"original_folder_path":{"type":"string","title":"Original Folder Path"}},"type":"object","required":["signed_url","user_id","timestamp","original_folder_path"],"title":"CloudinaryAnalysisRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}